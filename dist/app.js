/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ (() => {

eval("const API_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzOTQxMzY4OSwiZXhwIjoxOTU0OTg5Njg5fQ.eW1mB199JfwekcQ1tbTpY2gwkM5HhxJTYzJMHpDQ1_w\"\nconst API_URL = \"https://edeaeijsaktqxssxcxqx.supabase.co/rest/v1/Apprenant\"\n\nconst infoApprenants = document.querySelector(\"form\")\nconst laListe = document.getElementById(\"apprenants\");\nconst inputNom = document.getElementById(\"nom\")\nconst inputPrenom = document.getElementById(\"prenom\")\nconst selectNiveau = document.getElementById(\"selection\")\nconst inputBio = document.getElementById(\"bio\")\nconst ajouter = document.getElementById(\"ajouter\")\n\nconst tabApprenants = []\nconst sauvegarder = document.getElementById(\"sauvegarder\")\n\n\n// const btnModifier = \"btn-valider\" + details.id\n// const idCard = \"numero_card-\" + details.id\n\n\ninfoApprenants.addEventListener(\"submit\", (event) => {\n    event.preventDefault()\n\n    // RECUPERATION DES VALEURS DU FORMULAIRE\n    nomApprenant = inputNom.value\n    prenomApprenant = inputPrenom.value\n    niveauChoisi = selectNiveau.value\n    biographieSaisi = inputBio.value\n\n    if (nomApprenant.trim().length < 4 || prenomApprenant.trim().length < 7 || biographieSaisi.trim().length < 10) {\n        alert(\"Merci de saisir des informations correctes\")\n        return\n    }\n\n    let nouveauApprenant = {\n        nom : nomApprenant,\n        prenom : prenomApprenant,\n        niveau : niveauChoisi,\n        biographie : biographieSaisi,\n    }\n\n    insererApprenant(nouveauApprenant)\n    tabApprenants.push(nouveauApprenant)\n    //console.log(tabApprenants.length)\n})\n\nfunction insererApprenant(details){\n\n    laListe.insertAdjacentHTML(\n        \"afterbegin\",\n        `<div class=\"card mb-3\" style=\"max-width: 540px;>\n            <div class=\"row g-0\">\n                <div class=\"col-md-4\">\n                    <img src=\"./src/images/profil.jpeg\" class=\"img-fluid rounded-pill\" alt=\"...\">\n                </div>\n                <div class=\"col-md-8\">\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\">${details.nom} ${details.prenom}</h5>\n                        <p class=\"card-text\">${details.biographie}</p>\n                    </div>\n                </div>\n                <p class=\"card-text\"><small class=\"float-end\">${details.niveau}</small></p>\n            </div>\n        </div>\n        `\n    )\n}\n\n// ENVOIE DES DETAILS VERS LA BASE DE DONNÉES VIA L'API\n\nsauvegarder.addEventListener(\"click\", ()=>{\n\n    // ENVOIE DE LA LISTE VERS LA BASE\n    tabApprenants.forEach((apprenant)=>{\n        fetch(API_URL, {\n            method: \"POST\",\n            headers : {\n                apikey : API_KEY,\n                \"Content-Type\" : \"application/json\",\n            },\n            body : JSON.stringify(apprenant),\n        })\n    })\n})\n\n\n// const modifier = document.getElementById(btnmodifier)\n\n// // MODIFIER/SUPPRIMER CARTE\n    \n// function func_btnModifier(btnModifier,idModifier)\n// {\n//     btnModifier.addEventListener(\"click\",(event)=>{\n//         event.preventDefault()\n//         //alert(\"bonjour\")\n//         //console.log(apprenants)\n//         apprenants.forEach(apprenant=>{\n//             if(apprenant.id==idModifier)\n//             {\n//                 nom.value=apprenant.nom\n//                 prenom.value=apprenant.prenom\n//                 biographie.value=apprenant.biographie\n//                 console.log(apprenant.nom)\n//                 btnAjouter.value=\"Modifier\"\n//                 btnAjouter.textContent=\"Modifier\"\n//                 console.log(btnAjouter)\n//                 sessionStorage.setItem(\"apprenantAMod\",idModifier)\n//             }\n            \n//         })\n//     })\n// }\n\n\n// function func_btnSupprimer(btnSupprimer,idSpprimer,carteSupprimer){\n//     btnSupprimer.addEventListener(\"click\",(event)=>{\n//         event.preventDefault()\n//         apprenants.forEach(apprenant=>{\n//             if(apprenant.id==idSpprimer)\n//             {\n//                 //console.log(apprenants)\n//                 //console.log(apprenants.length)\n//                 const index=apprenants.indexOf(apprenant)\n//                 apprenants.splice(index,1)\n//                 divTableauApprenant.removeChild(carteSupprimer)\n//                 console.log(apprenants)\n               \n//             }else{\n//                 console.log(\"mauvaise idee\")\n//                 console.log(idSpprimer)\n               \n//             }\n            \n//         })\n       \n        \n//     })\n// }\n\n// RÉCUPÉRATION DES INFOS DE LA BASE DE DONNÉES ET AFFICHAGE SUR UNE NOUVELLE PAGE\n\n// listeDesIdees.addEventListener(\"click\", (event) => {\n//     proposition.innerHTML = \"\"\n//     event.preventDefault()  \n//     fetch(API_URL, {\n//               method : \"GET\",\n//               headers : {\n//               apikey: API_KEY,\n//           },\n//       })\n//       .then((response) => response.json())\n//       .then((idees) => {\n//         idees.forEach((donnee) => {\n//           creerCarte(donnee)\n//         })\n//       })\n//   })\n\n//# sourceURL=webpack://schoolapp/./src/app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/app.js"]();
/******/ 	
/******/ })()
;